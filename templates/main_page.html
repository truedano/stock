<!DOCTYPE html>
<html ng-app="myApp">
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
<script src="{{ url_for('static', filename='todo.js') }}"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<link rel="stylesheet" href="{{ url_for('static', filename='main_page.css') }}">
</head>
</script>
<body>

<div class="container-fluid">
	<div class="row content" ng-controller='topController'>
		<div class="col-sm-3 sidenav">
			<h4>truedano stock</h4>
			<ul class="nav nav-pills nav-stacked">
				<li ng-class="{active: type=='stocklist'}">
					<a href="javascript:;" ng-click="changeType('stocklist')">清單</a>
				</li>
				<li ng-class="{active: type=='setting'}">
					<a href="javascript:;" ng-click="changeType('setting')">設定</a>
				</li>
			</ul>
		</div>

		<div class="col-sm-9" ng-switch='type'>

			<!--stocklist-->
			<div ng-switch-when='stocklist' ng-controller='stocklistController'>
				<table class="container table-hover">
					<tr class="bg-primary">
						<td>股票代號</td><td>股價</td><td>平均股利</td><td>股利*16</td><td>股利*20</td><td>股利*32</td>
					</tr>
					<tr ng-repeat="x in stocklist">
						{% raw %}<td>{{ x }}</td><td>{{ final_price[x] }}</td><td>{{ perdiv[x] }}</td><td>{{ perdiv[x]*16 }}</td><td>{{ perdiv[x]*20 }}</td><td>{{ perdiv[x]*32 }}</td>{% endraw %}
					</tr>
				</table>
			</div>

			<!--setting-->
			<div ng-switch-when='setting' ng-controller='settingController'>
				<form>
					<h4>setting</h4>
					<select>
						<option ng-repeat="x in config.stocklist">
							{% raw %}{{x}}{% endraw %}
						</option>
					</select>
					<button data-toggle="modal" data-target="#addstock">新增</button>

					<br><br><br>
					<button class="btn-default" ng-click="savestock()">儲存</button>

					<div class="modal fade" id="addstock" role="dialog">
						<div class="modal-dialog modal-sm">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal">&times;</button>
									<h4 class="modal-title">新增</h4>
								</div>
								<div class="modal-body">
									<input type="text" ng-model="add_one_stock">
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal" ng-click='add_stock_num()'>確定</button>
								</div>
							</div>
						</div>
					</div>
				</form>

			</div>
		</div>
	</div>
</div>

</body>
</html>